<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Standard Interface</title>

    <!--initial favicon-->
    <link id="favicon" rel="icon" type="image/png" href="../images/cube.png" />

    <!--styles-->
    <link href="../libs/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">

</head>
<body>

    <div class="page-content">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                        <h2> Mental Rotations Test (MRT) </h2>
                        <hr>
                    <div class="text-content">
                        <div class="row">
                            <div class="col-sm-2 col-xs-3">
                                <div class="timer" data-spy="affix" data-offset-top="0">
                                    Time Left
                                    <br>
                                    <span id="time"></span>
                                </div>
                            </div>
                            <div class="col-sm-10 col-xs-9">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div id="mrt-questions"></div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                    <form class="form-horizontal">
                        <div class="form-group">
                        <div class="col-xs-offset-1 col-xs-10">
                          <a type="submit" onclick="proceed()" class="btn btn-success">Submit</a>
                        </div>
                      </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="modal" class="modal fade" data-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Mental Rotations Test (MRT)</h4>
                </div>
                <div class="modal-body">
                    <p>
                        We will now be asking you to complete a number of these exercises under a 10 minute time limit.
                        The timer at the top of the page will indicate how much time you have left.
                        At the end of 10 minutes, the test will automatically save your responses and end the test.
                        Please complete the test as quickly and accurately as you can.
                        Refrain from guessing the answers to questions.
                        Remember that each question has exactly 2 models which are considered correct.
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="startTiming()" class="btn btn-success" data-dismiss="modal">Start Test</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

</body>

    <!--scripts-->
    <script src="../libs/jquery-1.11.3.min.js"></script>
    <script src="../libs/bootstrap/bootstrap.min.js"></script>
    <script src="../scripts/storage.js"></script>
    <script src="../scripts/CountDownTimer.js"></script>

    <script>
        ∂
        function proceed(){
            var checkedBoxes = [];

            for(var i = 1; i <= 24; i++){
                var currQ = [];

                for(var j = 1; j <= 4; j++){
                    if($('#q' + i + '-ans' + j).prop('checked')){
                        currQ.push(j);
                    }
                }
                checkedBoxes.push(currQ);
            }

            store("mrt-answers", checkedBoxes);
        }∂

        $(window).load(function(){
            displayQuestions();
            $('#modal').modal('show');
        });

        function startTiming(){
            var display = document.querySelector('#time');
            var timer = new CountDownTimer(60 * 10, display);
            timer.start();
        }

        function displayQuestions(){
            for(var i = 1; i <= 24; i++){
                var data = "<div class='mrt-questions'>";

                data += '<h4>Question ' + i + '</h4>';

                data += '<img src="../images/MRT/' + i + '.png">';

                for(var j = 1; j <= 4; j++){
                    data+= '<label><input id="q' + i + '-ans' + j + '" type="checkbox"> ' + j + '</label>';
                    data+= "<br>";
                }

                data += "</div>";
                $("#mrt-questions").append(data);
            }
        }

    </script>


</html>